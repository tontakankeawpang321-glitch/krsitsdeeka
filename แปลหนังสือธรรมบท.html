<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
<title>ชั้นหนังสือธรรมบท – มือถือ 4 คอลัมน์ (_blank)</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    /* mobile-first: 4 คอลัมน์ */
    --cols:4;
    --gap:8px;
    --bg:#778899;
    --ink:#eef3fb;
    --muted:#cfd6e2;
    --wood:#c28a52; --wood2:#9b6a3d;
    --badge:#e11d48;
    --shadow:0 12px 28px -18px rgba(0,0,0,.55);
  }
  @media (min-width: 600px){ :root{ --cols:4; --gap:12px } }
  @media (min-width: 900px){ :root{ --cols:4; --gap:16px } }

  *{box-sizing:border-box}
  body{
    margin:0;
    padding: env(safe-area-inset-top) env(safe-area-inset-right)
             calc(14px + env(safe-area-inset-bottom)) env(safe-area-inset-left);
    background:
      radial-gradient(1000px 500px at 80% -10%, rgba(255,255,255,.06), transparent 60%),
      radial-gradient(800px 500px at 10% 110%, rgba(255,255,255,.04), transparent 60%),
      var(--bg);
    color:var(--ink);
    font-family:"Sarabun",system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans Thai",sans-serif;
    -webkit-tap-highlight-color: transparent;
  }
  .wrap{max-width:1000px; margin:0 auto; padding:10px 10px 40px}
  h1{margin:0 0 4px; font-size:clamp(18px,4vw,28px)}
  p.lead{margin:0 0 10px; color:var(--muted); font-size:13px}

  /* ===== เลย์เอาต์แนวตั้ง แบ่งเป็น "แถวชั้นไม้" ทีละ 4 เล่ม ===== */
  .rows{display:flex; flex-direction:column; gap:22px; margin-top:6px}
  .shelf-row{
    position:relative;
    padding-bottom:18px; /* เผื่อพื้นที่ให้ชั้นไม้ */
  }
  .row-grid{
    display:grid;
    grid-template-columns: repeat(var(--cols), 1fr);
    gap: var(--gap);
  }

  /* ชั้นไม้ (ต่อแถว ไม่เลื่อนข้าง) */
  .shelf-board{
    position:absolute; left:0; right:0; bottom:0; height:16px; z-index:1;
    background:
      linear-gradient(#0004,#0000) top/100% 2px no-repeat,
      linear-gradient(180deg,#fff8 0,#0004 100%) 0 0/100% 100%,
      linear-gradient(180deg,var(--wood) 0,var(--wood2) 100%);
    border-radius:8px;
    box-shadow:0 6px 16px rgba(0,0,0,.5), inset 0 0 0 1px rgba(0,0,0,.12);
  }

  /* การ์ดหนังสือ */
  .book{ text-align:center; z-index:2 } /* ให้อยู่เหนือชั้นไม้ */
  .cover{
    display:block; position:relative; width:100%; aspect-ratio:3/4; border-radius:10px; overflow:hidden;
    background:#fff;
    box-shadow:0 12px 20px -16px rgba(0,0,0,.75), inset 0 0 0 1px rgba(255,255,255,.06);
    transform:translateY(0);
    transition:transform .16s ease, box-shadow .16s ease;
  }
  .cover img{width:100%; height:100%; object-fit:cover; display:block}
  .cover::after{content:""; position:absolute; left:0; top:0; bottom:0; width:5px; background:linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.05))}
  .cover:where(:hover,:focus-visible){ transform:translateY(-2px); box-shadow:0 18px 26px -18px rgba(0,0,0,.85), inset 0 0 0 1px rgba(255,255,255,.08) }

  .badge{
    position:absolute; left:-6px; top:6px; padding:2px 8px 3px; font-size:10px; font-weight:700; letter-spacing:.35px;
    background:var(--badge); color:#fff; border-radius:999px; transform:rotate(-8deg); box-shadow:0 8px 14px -12px rgba(225,29,72,.9);
  }
  .title{
    margin-top:5px; font-size:11px; line-height:1.25; color:#eaeef5;
    display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
    text-shadow:0 1px 0 rgba(0,0,0,.4);
  }

  /* ลดแอนิเมชันสำหรับผู้ใช้ที่ตั้งค่า reduce-motion */
  @media (prefers-reduced-motion: reduce){
    .cover{ transition:none }
  }
</style>
</head>
<body>
  <div class="wrap">
   <h1>ชั้นหนังสือ</h1>
    <p>แปลธรรมบทบาลี</p>
    <p class="lead"> </p>

    <div class="rows" id="rows"></div>
  </div>

<script>
/* ====== ตั้งค่า: ปก (ID/URL) + ลิงก์ Drive (ID/URL) ====== */
const ITEMS = [
  {
    title:"หลักการแปล ปธ.123",
    cover:"https://drive.google.com/file/d/1d9GYTR6uBSWpFhBU7V4vtq8OQXhPXwK0/view?usp=drive_link",
    url:"https://drive.google.com/file/d/1WPNdBLFw6NGsqlXOMN8xXVvqdbD_oIe2/view?usp=drive_link",
    badge:"NEW"
  },
  { title:"คู่มือปธ.7-8-9", cover:"https://drive.google.com/file/d/1Dw5XqDVcZEcJsZSwyP-0OxRLmmjqBVEz/view?usp=sharing", url:"https://drive.google.com/file/d/1siCN8iqSeFpPfLTXnYiP5An_6KrhPoV_/view?usp=drive_link" },
  { title:"แปลยกศัพท์ เล่ม 1", cover:"https://drive.google.com/file/d/1IlRjEGv0DTDNvtnHvDWYKXrKYDuTrzco/view?usp=drive_link", url:"https://drive.google.com/file/d/1S1Blbcah80iv66Bf_bjx5Zri8SU2U8tJ/view?usp=drive_link" },
  { title:"แปลยกศัพท์ เล่ม 2", cover:"https://drive.google.com/file/d/1zM6p3By6Ywo01n-K8RNThAcBB3m1EadH/view?usp=drive_link", url:"https://drive.google.com/file/d/1Tuxk0qaTSBdL9qcuAWbB1NvaP3o2r6eo/view?usp=drive_link" },
  { title:"แปลยกศัพท์ เล่ม 3", cover:"https://drive.google.com/file/d/1D4SsdTRqF-HcwCOBNI3B5a7GhfUa1BAE/view?usp=drive_link", url:"https://drive.google.com/file/d/1TWAYqopuDe0DZtIGiOdSDFn965PGW1mT/view?usp=drive_link" },
  { title:"แปลยกศัพท์ เล่ม 4", cover:"https://drive.google.com/file/d/1L-a6UOjrFpPGXeXaPkzh5t0ye8oKBLAq/view?usp=drive_link", url:"https://drive.google.com/file/d/12vyp1ZpSzlB44AgX6CCW6eSS88m7v9Go/view?usp=drive_link" },
  { title:"แปลยกศัพท์ เล่ม 5", cover:"https://drive.google.com/file/d/1tJvgwQMKUx1cFLHNhgmhehgKTJDJ7gkZ/view?usp=drive_link", url:"https://drive.google.com/file/d/1jD9lgFtgF26AQULakPlq-N1e4qICJxaE/view?usp=drive_link" },
  { title:"แปลยกศัพท์ เล่ม 6", cover:"https://drive.google.com/file/d/11ZRIVwLLUrt1o0LNFeoA-d0eraniaiFM/view?usp=drive_link", url:"https://drive.google.com/file/d/1i31bsZhuytUkNNJaDHplZgjhRjaauX9p/view?usp=drive_link" },
  { title:"แปลยกศัพท์ เล่ม 7", cover:"https://drive.google.com/file/d/1VaHnV3bkGtHQMR3AUIvI_v1OsFK7_7tz/view?usp=drive_link", url:"https://drive.google.com/file/d/1ca3RyAUHlFBfaFU9KQgoYzQmr4XR-0qY/view?usp=drive_link" },
  { title:"แปลยกศัพท์ เล่ม 8", cover:"https://drive.google.com/file/d/13G1cM_A-0TwSLcbMQu6X3diLYH0hFsbF/view?usp=drive_link", url:"https://drive.google.com/file/d/1doKMBszW2yEM6urFDQBXPrp1obCB8OkF/view?usp=drive_link" },
  { title:"ธรรมบท 2 ภาษา เล่ม 1", cover:"https://drive.google.com/file/d/1nMnPeZ6ZjwhEpIbgs2mldaAnbO7h5Dsv/view?usp=drive_link", url:"https://drive.google.com/file/d/1ds9_lRvaKd3fdR6an_8Zbh2dRPJhOEBn/view?usp=drive_link" },
  { title:"ธรรมบท 2 ภาษาเล่ม 2", cover:"https://drive.google.com/file/d/16dF_kBQ-yBeYowoMRwBUR3_ZnBEH4TRo/view?usp=drive_link", url:"https://drive.google.com/file/d/13vMcmi6rCOsl4j7-hqTXtsBT5FRPI_IQ/view?usp=drive_link" },
  { title:"ธรรมบท 2 ภาษาเล่ม 3", cover:"https://drive.google.com/file/d/1M-q50kV8PkSKVF6BX5qAb_v9-Dvg1sUb/view?usp=drive_link", url:"https://drive.google.com/file/d/1E75hb1bgqMv5HTeovm35gUQfd3Alo-7A/view?usp=drive_link" },
  { title:"ธรรมบท 2 ภาษาเล่ม 4", cover:"https://drive.google.com/file/d/1c1DLxaxaoBGlwHFpf-hSBTFYO_p3rfA9/view?usp=drive_link", url:"https://drive.google.com/file/d/1YQNCrFhc9Xbkc00khnXlFBzZ61fRuY2J/view?usp=drive_link" },
  { title:"ธรรมบท 2 ภาษาเล่ม 5", cover:"https://drive.google.com/file/d/1HrX3VncIJYcUGF6ZEh5KStGaxFPvmvLA/view?usp=drive_link", url:"https://drive.google.com/file/d/1TjkuSSO41vnTeAdZzLLRjewtTkd_Xcqk/view?usp=drive_link" },
  { title:"ธรรมบท 2 ภาษาเล่ม 6", cover:"https://drive.google.com/file/d/1rLMH606Wxi20y8f0eGeFEJervQEnOclB/view?usp=drive_link", url:"https://drive.google.com/file/d/1fBXpGoapfL9u074lwH3Iva8SE-0SbsB7/view?usp=drive_link" },
  { title:"ธรรมบท 2 ภาษาเล่ม 7", cover:"https://drive.google.com/file/d/1LOouEb4YdnPMWsJGMzOe7peswmhodKtY/view?usp=drive_link", url:"https://drive.google.com/file/d/1OMweF7D36z7WNCR1yN3Pyr9CULs4SEU7/view?usp=drive_link" },
  { title:"ธรรมบท 2 ภาษาเล่ม 8", cover:"https://drive.google.com/file/d/189Lb9sGxtU59maTnJEYBwphIGXLcRrTF/view?usp=drive_link", url:"https://drive.google.com/file/d/1Teiubf6thdm532fGcTy22PclnCava6jB/view?usp=drive_link" },
  // เพิ่มต่อได้
];

/* ====== Helpers: รองรับทั้ง ID, /file/d/ID/view, open?id=ID ====== */
function extractDriveId(v){
  if(!v) return "";
  if(/^[A-Za-z0-9_-]{20,}$/.test(v)) return v; // เป็น ID ตรงๆ
  const m1 = v.match(/\/file\/d\/([A-Za-z0-9_-]{20,})/); // /file/d/ID/...
  if(m1) return m1[1];
  const m2 = v.match(/[?&]id=([A-Za-z0-9_-]{20,})/); // open?id=ID
  if(m2) return m2[1];
  return "";
}

// รูปปก: ใช้ thumbnail ของ Google Drive
function toDriveImage(v, size=1000){
  const id = extractDriveId(v);
  if(id) return `https://drive.google.com/thumbnail?id=${id}&sz=w${size}`;
  return v || "";
}

// ลิงก์เปิด (_blank): ใช้หน้า VIEW
function toDriveView(v){
  const id = extractDriveId(v);
  if(id) return `https://drive.google.com/file/d/${id}/view`;
  if(typeof v === "string") return v.replace(/\/preview(\?.*)?$/,"/view");
  return "";
}

/* ====== สร้างการ์ดหนังสือ ====== */
function createBook(b){
  const el = document.createElement('div');
  el.className = 'book';

  const a  = document.createElement('a');
  a.className = 'cover';
  a.href = toDriveView(b.url) || '#';
  a.target = '_blank';
  a.rel = 'noopener noreferrer';
  a.innerHTML = `${b.badge?`<span class="badge">${b.badge}</span>`:''}
    <img loading="lazy" decoding="async" alt="${b.title}">`;
  a.querySelector('img').src = toDriveImage(b.cover);

  const t = document.createElement('div');
  t.className='title';
  t.textContent = b.title;

  el.appendChild(a);
  el.appendChild(t);
  return el;
}

/* ====== จัดลง "ชั้นไม้" แถวละ 4 เล่ม (ตรงกับ --cols) ====== */
const rowsEl = document.getElementById('rows');
const COLS = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--cols')) || 4;

for(let i=0; i<ITEMS.length; i += COLS){
  const row = document.createElement('div');
  row.className = 'shelf-row';

  const grid = document.createElement('div');
  grid.className = 'row-grid';

  ITEMS.slice(i, i+COLS).forEach(b => grid.appendChild(createBook(b)));

  const board = document.createElement('div');
  board.className = 'shelf-board';
  board.setAttribute('aria-hidden','true');

  row.appendChild(grid);
  row.appendChild(board);
  rowsEl.appendChild(row);
}
</script>

<a    class="tile"  href="https://sites.google.com/view/privacy-policy-pdpa-crow-studi/%E0%B8%AB%E0%B8%99%E0%B8%B2%E0%B9%81%E0%B8%A3%E0%B8%81" target="_blank"> <div class="title">นโยบายส่วนตัว Privacy policy
</div>  </a>
    </div>
</body>
</html>

